<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>PROGGER - Chord Progression Generator</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&family=JetBrains+Mono:wght@700;800&family=Bebas+Neue&family=Space+Mono:wght@700&family=IBM+Plex+Mono:wght@700&family=Fira+Code:wght@700&family=Inconsolata:wght@700;900&family=Roboto+Mono:wght@700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="/progger-theme.css" />
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
            tailwind.config = {
                darkMode: "class",
                theme: {
                    extend: {
                        fontFamily: {
                            mono: ['"Source Code Pro"', "monospace"],
                            bebas: ['"Bebas Neue"', "sans-serif"],
                            jetbrains: ['"JetBrains Mono"', "monospace"],
                            space: ['"Space Mono"', "monospace"],
                            ibm: ['"IBM Plex Mono"', "monospace"],
                            fira: ['"Fira Code"', "monospace"],
                            inconsolata: ['"Inconsolata"', "monospace"],
                            roboto: ['"Roboto Mono"', "monospace"],
                            grotesk: ['"Space Grotesk"', "sans-serif"],
                        },
                        colors: {
                            primary:
                                "hsl(var(--color-primary) / <alpha-value>)",
                            secondary:
                                "hsl(var(--color-secondary) / <alpha-value>)",
                            accent: "hsl(var(--color-accent) / <alpha-value>)",
                            text: "hsl(var(--color-text) / <alpha-value>)",
                            background:
                                "hsl(var(--color-background) / <alpha-value>)",
                            surface:
                                "hsl(var(--color-surface) / <alpha-value>)",
                            border: "hsl(var(--color-border) / <alpha-value>)",
                        },
                    },
                },
            };
        </script>
        <script>
            // Set theme on initial load to prevent flash
            if (
                localStorage.theme === "light" ||
                (!("theme" in localStorage) &&
                    window.matchMedia("(prefers-color-scheme: light)").matches)
            ) {
                document.documentElement.classList.remove("dark");
            } else {
                document.documentElement.classList.add("dark");
            }
        </script>
        <style>
            /* Default theme to prevent FOUC (Crimson Noir) */
            :root {
                --color-primary: 0 50% 45%;
                --color-secondary: 0 10% 40%;
                --color-accent: 0 60% 55%;
                --color-text: 0 5% 20%;
                --color-background: 0 0% 97%;
                --color-surface: 0 0% 94%;
                --color-border: 0 5% 20% / 0.1;
            }

            .dark {
                --color-primary: 0 55% 60%;
                --color-secondary: 0 5% 40%;
                --color-accent: 0 65% 65%;
                --color-text: 0 0% 88%;
                --color-background: 0 0% 12%;
                --color-surface: 0 0% 18%;
                --color-border: 0 0% 88% / 0.15;
            }

            body::before {
                content: "";
                position: fixed;
                inset: 0;
                z-index: -1;
                opacity: 0.3;
                background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80" width="80" height="80"><path fill="%23000000" fill-opacity="0.03" d="M0 0h40v40H0zM40 40h40v40H40z"/></svg>');
            }

            @keyframes slide-in {
                from {
                    opacity: 0;
                    transform: translateY(1rem);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
            .animate-slide-in {
                animation: slide-in 0.3s ease-out forwards;
            }

            @keyframes fade-scale-in {
                from {
                    opacity: 0;
                    transform: scale(0.98);
                }
                to {
                    opacity: 1;
                    transform: scale(1);
                }
            }
            .animate-fade-scale-in {
                animation: fade-scale-in 0.5s ease-out forwards;
            }

            @keyframes cross-fade-in {
                from {
                    opacity: 0;
                }
                to {
                    opacity: 1;
                }
            }
            .animate-cross-fade-in {
                animation: cross-fade-in 0.2s ease-in-out forwards;
            }

            /* Pixel Art Styling */
            .pixel-border {
                border-style: dotted;
                border-width: 2px;
                image-rendering: pixelated;
            }

            .pixel-corners::before,
            .pixel-corners::after {
                content: "";
                position: absolute;
                width: 8px;
                height: 8px;
                background: currentColor;
                opacity: 0.2;
            }

            .pixel-corners::before {
                top: -1px;
                left: -1px;
                border-top: 2px solid currentColor;
                border-left: 2px solid currentColor;
            }

            .pixel-corners::after {
                bottom: -1px;
                right: -1px;
                border-bottom: 2px solid currentColor;
                border-right: 2px solid currentColor;
            }

            /* Minimal Flat Buttons */
            button,
            select {
                border-radius: 4px;
                transition:
                    background-color 0.15s ease,
                    border-color 0.15s ease,
                    color 0.15s ease,
                    box-shadow 0.15s ease;
            }

            /* High-Contrast Focus Indicators for Accessibility */
            *:focus-visible {
                outline: 3px solid hsl(var(--color-accent));
                outline-offset: 2px;
                box-shadow:
                    0 0 0 2px hsl(var(--color-background)),
                    0 0 0 5px hsl(var(--color-accent) / 0.3);
            }

            button:focus-visible,
            a:focus-visible {
                outline: 3px solid hsl(var(--color-accent));
                outline-offset: 2px;
                box-shadow: 0 0 0 5px hsl(var(--color-accent) / 0.25);
            }

            input:focus-visible,
            select:focus-visible,
            textarea:focus-visible {
                outline: 2px solid hsl(var(--color-accent));
                outline-offset: 0;
                box-shadow: 0 0 0 4px hsl(var(--color-accent) / 0.2);
            }

            /* Ensure focus indicators are always visible */
            *:focus:not(:focus-visible) {
                outline: none;
            }
        </style>
    </head>
    <body
        class="font-grotesk bg-background text-text transition-colors duration-300"
    >
        <div id="root"></div>
        <script type="module" src="/index.tsx"></script>
    </body>
</html>
